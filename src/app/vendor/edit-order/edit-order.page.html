<ion-header mode='ios'>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button style="font-size: 4vw;" text="{{'Atrás' | translate}}" defaultHref="/tabs/account/order-list"></ion-back-button>
    </ion-buttons>
    <ion-title style="font-size: 4vw;" >
      {{"Editar el Pedido" | translate}}
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="order">

	<div *ngIf="orders">

  <ion-list>

    <ion-item>
      <ion-label  >{{"El ID de Pedido" | translate}} - {{orders.id}}</ion-label>
    </ion-item>

    <ion-item style="padding-top:10px">
      <ion-label position="floating" >Estado</ion-label>
      <ion-select [(ngModel)]="orders.status"   name="status" okText="OK" cancelText="Cancel">
                <ion-select-option  value="processing">{{"Procesando" | translate}}</ion-select-option>
                <ion-select-option  value="on-hold">{{"en espera" | translate}}</ion-select-option>
                <ion-select-option  value="completed">{{"terminado" | translate}}</ion-select-option>
                <ion-select-option  value="cancelled">{{"cancelado" | translate}}</ion-select-option>
                <ion-select-option  value="refunded">{{"reintegrado" | translate}}</ion-select-option>
                <ion-select-option  value="failed">{{"fallado" | translate}}</ion-select-option>
                <ion-select-option  value="pending">{{"pendiente" | translate}}</ion-select-option>
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label position="floating"  >{{"Descuenta Total" | translate}}</ion-label>
      <ion-input required type="number"  [(ngModel)]="orders.discount_total" name="discount_total"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating"  >{{"Envío Total" | translate}}</ion-label>
      <ion-input required type="number"  [(ngModel)]="orders.shipping_total" name="shipping_total"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating"  >{{"Total" | translate}}</ion-label>
      <ion-input required type="number"  [(ngModel)]="orders.total" name="total"></ion-input>
    </ion-item>

    <ion-item>
	  <ion-label position="floating"  >{{"nota del cliente" | translate}}</ion-label>
	  <ion-textarea rows="3" required type="text"  [(ngModel)]="orders.customer_note" name="customer_note"></ion-textarea>
	</ion-item>

    <ion-item style="background: #f2f2f2">
      <ion-label style="font-size: 5vw;" >{{"Dirección de facturación" | translate}}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label position="floating" >{{"Nombre" | translate}}</ion-label>
      <ion-input required type="text"  [(ngModel)]="orders.billing.first_name" name="billing_first_name"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label position="floating" >{{"Apellidos" | translate}}</ion-label>
      <ion-input required type="text"  [(ngModel)]="orders.billing.last_name" name="billing_last_name"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label position="floating" >{{"Empresa" | translate}}</ion-label>
      <ion-input required type="text"  [(ngModel)]="orders.billing.company" name="billing_company"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label position="floating" >{{"Dirección" | translate}}1</ion-label>
      <ion-input required type="text"  [(ngModel)]="orders.billing.address_1" name="billing_address_1"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label position="floating" >{{"Dirección" | translate}}2</ion-label>
      <ion-input required type="text"  [(ngModel)]="orders.billing.address_2" name="billing_address_2"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label position="floating"  >{{"Ciudad" | translate}}</ion-label>
      <ion-input required type="text"  [(ngModel)]="orders.billing.city" name="billing_city"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label position="floating"  >{{"Estado" | translate}}</ion-label>
      <ion-input required type="text"  [(ngModel)]="orders.billing.state" name="billing_state"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label position="floating"  >{{"Codigo postál" | translate}}</ion-label>
      <ion-input required type="text"  [(ngModel)]="orders.billing.postcode" name="billing_postcode"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label position="floating"  >{{"País" | translate}}</ion-label>
      <ion-input required type="text"  [(ngModel)]="orders.billing.country" name="billing_country"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label position="floating"  >{{"Email" | translate}}</ion-label>
      <ion-input required type="text"  [(ngModel)]="orders.billing.email" name="billing_email"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label position="floating"  >{{"Telefono" | translate}}</ion-label>
      <ion-input required type="number"  [(ngModel)]="orders.billing.phone" name="billing_phone"></ion-input>
    </ion-item>

    <ion-item style="background: #f2f2f2">
      <ion-label  >{{"Dirección de Envío" | translate}}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label position="floating"  >{{"Nombre" | translate}}</ion-label>
      <ion-input required type="text"  [(ngModel)]="orders.shipping.first_name" name="shipping_first_name"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label position="floating"  >{{"Apellidos" | translate}}</ion-label>
      <ion-input required type="text"  [(ngModel)]="orders.shipping.last_name" name="shipping_last_name"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label position="floating"  >{{"Empresa" | translate}}</ion-label>
      <ion-input required type="text"  [(ngModel)]="orders.shipping.company" name="shipping_company"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label position="floating" >{{"Dirección" | translate}}1</ion-label>
      <ion-input required type="text"  [(ngModel)]="orders.shipping.address_1" name="shipping_address_1"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label position="floating"  >{{"Dirección" | translate}}2</ion-label>
      <ion-input required type="text"  [(ngModel)]="orders.shipping.address_2" name="shipping_address_2"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label position="floating"  >{{"Ciudad" | translate}}</ion-label>
      <ion-input required type="text"  [(ngModel)]="orders.shipping.city" name="shipping_city"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label position="floating"  >{{"Estado" | translate}}</ion-label>
      <ion-input required type="text"  [(ngModel)]="orders.shipping.state" name="shipping_state"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label position="floating"  >{{"Codigo postál" | translate}}</ion-label>
      <ion-input required type="text"  [(ngModel)]="orders.shipping.postcode" name="shipping_postcode"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label position="floating"  >{{"País" | translate}}</ion-label>
      <ion-input required type="text"  [(ngModel)]="orders.shipping.country" name="shipping_country"></ion-input>
    </ion-item>

    <ion-item style="background: #f2f2f2">
      <h2 item-left >{{"Artículos de línea" | translate}}</h2>
    </ion-item>

    <div *ngIf="orders.line_items.length">
          <div *ngFor="let item of orders.line_items">
                <ion-list style="margin-bottom: 5px;">
                    <ion-item>
                      <ion-label  >{{item.name}}</ion-label>
                    </ion-item>

                    <ion-item>
                      <ion-label position="floating" >{{"Precio" | translate}}</ion-label>
                      <ion-input required type="number"  [(ngModel)]="item.price" name="price"></ion-input>
                    </ion-item>

                    <ion-item>
                      <ion-label position="floating" >{{"Cantidad" | translate}}</ion-label>
                      <ion-input required type="number"  [(ngModel)]="item.quantity" name="quantity"></ion-input>
                    </ion-item>

                    <ion-item>
                      <ion-label position="floating" >{{"Sub Total" | translate}}</ion-label>
                      <ion-input required type="number"  [(ngModel)]="item.subtotal" name="subtotal"></ion-input>
                    </ion-item>

                    <ion-item>
                      <ion-label position="floating" >{{"Total" | translate}}</ion-label>
                      <ion-input required type="number"  [(ngModel)]="item.total" name="total"></ion-input>
                    </ion-item>
                </ion-list>
          </div>
    </div>


  </ion-list>

  <div style="text-align: center;">
    <ion-button size="full" color="{{settings.theme.button}}" (click)="save()" [disabled]="disableButton" >{{"Guardar" | translate}}</ion-button>
  </div>

</div>

</ion-content>
